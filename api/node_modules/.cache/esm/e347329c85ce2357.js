let express,mongoose,cors,helmet,contactRoute,genericErrorHandler,errorHandler;_85c‍.w("express",[["default",["express"],function(v){express=v}]]);_85c‍.w("mongoose",[["default",["mongoose"],function(v){mongoose=v}]]);_85c‍.w("cors",[["default",["cors"],function(v){cors=v}]]);_85c‍.w("helmet",[["default",["helmet"],function(v){helmet=v}]]);_85c‍.w("./api/routes/contact",[["default",["contactRoute"],function(v){contactRoute=v}]]);_85c‍.w("./api/middlewares/genericErrorHandler",[["default",["genericErrorHandler"],function(v){genericErrorHandler=v}]]);_85c‍.w("./api/middlewares/errorHandler",[["default",["errorHandler"],function(v){errorHandler=v}]]);







mongoose.connect("mongodb://localhost:27017/contact-app").then(() =>{
    console.log("Mongodb is connected, port:27017");
});

const app = express();

const port = process.env.port || 3001;

app.use(
    cors({
        origin: "*",
    })
);

app.use(helmet());

app.use(express.json());

app.use("/contact", contactRoute);

app.use(errorHandler);
app.use(genericErrorHandler);

app.listen(port, () =>{
    console.log(`Contact app listening on ${port}`);
})